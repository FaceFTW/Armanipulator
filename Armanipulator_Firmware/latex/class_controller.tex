\hypertarget{class_controller}{}\section{Controller Class Reference}
\label{class_controller}\index{Controller@{Controller}}


The class-\/object used to interface between the serial interface and the stepper motor drivers.  




{\ttfamily \#include $<$Controller.\+h$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_controller_1_1arm__command}{arm\+\_\+command}
\begin{DoxyCompactList}\small\item\em The structure used to define the overall instruction parsed from serial input. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{class_controller_a91a5751dd6920daf3b70814171b51767}{Arm\+\_\+\+Operation} \{ \newline
\hyperlink{class_controller_a91a5751dd6920daf3b70814171b51767a99ba9596fbe683c122b76174e7d40b8e}{R\+O\+T\+A\+TE}, 
\hyperlink{class_controller_a91a5751dd6920daf3b70814171b51767a41ed83326fd9ad04a2d24a228bc7a7ef}{G\+R\+AB}, 
\hyperlink{class_controller_a91a5751dd6920daf3b70814171b51767a1f9769fc0e78abe69b7a4ad5d573eb6c}{E\+X\+T\+E\+ND}, 
\hyperlink{class_controller_a91a5751dd6920daf3b70814171b51767a7d0e6ebddd2cb5dc5fb2100c018cc6d8}{M\+I\+C\+R\+O\+S\+T\+E\+PS}, 
\newline
\hyperlink{class_controller_a91a5751dd6920daf3b70814171b51767ae276bf8b30c8b606b54d8fb7d92c1ee6}{E\+R\+R\+OR}
 \}\begin{DoxyCompactList}\small\item\em Used to define common commands parsed by the arm. \end{DoxyCompactList}
\item 
enum \hyperlink{class_controller_aa94f1aea40982c422a43c1ee5aea0c49}{microsteps} \{ \newline
\hyperlink{class_controller_aa94f1aea40982c422a43c1ee5aea0c49a7c6a23455db73e86dcfafcb0025ac5dd}{H\+A\+LF}, 
\hyperlink{class_controller_aa94f1aea40982c422a43c1ee5aea0c49aa4e1dc476afca095736e176eb109dc11}{Q\+U\+A\+R\+T\+ER}, 
\hyperlink{class_controller_aa94f1aea40982c422a43c1ee5aea0c49a99f575098d1be025c224acc42fd921a0}{E\+I\+G\+TH}, 
\hyperlink{class_controller_aa94f1aea40982c422a43c1ee5aea0c49af214e4647ac3115a559b96a464219371}{S\+I\+X\+T\+E\+E\+N\+TH}, 
\newline
\hyperlink{class_controller_aa94f1aea40982c422a43c1ee5aea0c49aad17f41f310f462eb36ac9f6bac29b57}{T\+H\+I\+R\+T\+Y\+\_\+\+S\+E\+C\+O\+ND}
 \}
\item 
\mbox{\Hypertarget{class_controller_ab45ad0d63abd4b57021f13810fc856d3}\label{class_controller_ab45ad0d63abd4b57021f13810fc856d3}} 
typedef enum \hyperlink{class_controller_aa94f1aea40982c422a43c1ee5aea0c49}{Controller\+::microsteps} \hyperlink{class_controller_ab45ad0d63abd4b57021f13810fc856d3}{Microsteps}
\begin{DoxyCompactList}\small\item\em Used to placehold common Microstep configs for the motor drivers. \end{DoxyCompactList}\item 
typedef struct \hyperlink{struct_controller_1_1arm__command}{Controller\+::arm\+\_\+command} \hyperlink{class_controller_ac48cc99091f83f149fef8f17fd5d7e7f}{Arm\+\_\+\+Command}
\begin{DoxyCompactList}\small\item\em Type for the Arm\+\_\+\+Command Struct to allow easy definition. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_controller_a95c56822d667e94b031451729ce069a9}\label{class_controller_a95c56822d667e94b031451729ce069a9}} 
\hyperlink{class_controller_a95c56822d667e94b031451729ce069a9}{Controller} ()
\begin{DoxyCompactList}\small\item\em Constructor for the controller object In this constructor, the motors are created on the heap, and then the motor pointer vars now point to the motors on the heap. current\+Cmd is not initialized, because it does not need to be pointed to at the minute. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_controller_a0ab87934c4f7a266cfdb86e0f36bc1b5}\label{class_controller_a0ab87934c4f7a266cfdb86e0f36bc1b5}} 
virtual \hyperlink{class_controller_a0ab87934c4f7a266cfdb86e0f36bc1b5}{$\sim$\+Controller} ()
\begin{DoxyCompactList}\small\item\em Destructor for the controller object Has no purpose, therefore does nothing. \end{DoxyCompactList}\item 
void \hyperlink{class_controller_ad7583687bca402756ed9a4a8dc2e29ee}{parse\+Serial} (String rawinput)
\begin{DoxyCompactList}\small\item\em Translates Serial or Other Input into an Arm\+\_\+\+Command struct object This function will take the string input, and then parse based on the first character of the string. Parsing goes as follows\+: -\/\+Any commands related to rotation will start with an \textquotesingle{}r\textquotesingle{} or \textquotesingle{}R\textquotesingle{}, then followed by a double indicating revolutions -\/\+Any commands related to gripping will start with a \textquotesingle{}g\textquotesingle{} or \textquotesingle{}G\textquotesingle{}, then followed by a 0 or 1. Other values will trigger an exception -\/\+Any commands related to extending the arm will start with an \textquotesingle{}e\textquotesingle{} or \textquotesingle{}E\textquotesingle{}, then followed by a double indicating motor rotation. We will assert that the value is between -\/1 and 1 for now -\/\+Any unrecognized letter will return the E\+R\+R\+OR enum and 1 as the value. Serial should display an error message, or trigger an exception Once the command is selected, the remaining value is parsed as a double, and then pointed to in the Arm\+\_\+\+Command Pointer. \end{DoxyCompactList}\item 
void \hyperlink{class_controller_a8ad1d152a91997ab3825f32d2dcecfd4}{print\+Exec} ()
\begin{DoxyCompactList}\small\item\em Debug Function to test the parser Prints output in the serial connection based on the values in current\+Cmd. \end{DoxyCompactList}\item 
void \hyperlink{class_controller_ac1fc6cd2f507cc05e66a602e809c2446}{execute\+Cmd} ()
\begin{DoxyCompactList}\small\item\em Runs Commands based on data pointed to by current\+Cmd Uses the parsing rules defined by parse\+Serial and then do the respective action. \end{DoxyCompactList}\item 
\hyperlink{class_controller_ac48cc99091f83f149fef8f17fd5d7e7f}{Arm\+\_\+\+Command} $\ast$ \hyperlink{class_controller_af746c7701fda226720efe02890a308b2}{get\+Command} ()
\begin{DoxyCompactList}\small\item\em Getter method for the current\+Cmd pointer. \end{DoxyCompactList}\item 
void \hyperlink{class_controller_a951ce5ec5a6e653e9dd78b36351d80c5}{set\+Command} (\hyperlink{class_controller_ac48cc99091f83f149fef8f17fd5d7e7f}{Arm\+\_\+\+Command} $\ast$cmd)
\begin{DoxyCompactList}\small\item\em Setter method for the current\+Cmd pointer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The class-\/object used to interface between the serial interface and the stepper motor drivers. 

Definition at line 20 of file Controller.\+h.



\subsection{Member Typedef Documentation}
\mbox{\Hypertarget{class_controller_ac48cc99091f83f149fef8f17fd5d7e7f}\label{class_controller_ac48cc99091f83f149fef8f17fd5d7e7f}} 
\index{Controller@{Controller}!Arm\+\_\+\+Command@{Arm\+\_\+\+Command}}
\index{Arm\+\_\+\+Command@{Arm\+\_\+\+Command}!Controller@{Controller}}
\subsubsection{\texorpdfstring{Arm\+\_\+\+Command}{Arm\_Command}}
{\footnotesize\ttfamily \hyperlink{class_controller_ac48cc99091f83f149fef8f17fd5d7e7f}{Controller\+::\+Arm\+\_\+\+Command}}



Type for the Arm\+\_\+\+Command Struct to allow easy definition. 

\begin{DoxySeeAlso}{See also}
\hyperlink{struct_controller_1_1arm__command}{Controller\+::arm\+\_\+command} 
\end{DoxySeeAlso}


\subsection{Member Enumeration Documentation}
\mbox{\Hypertarget{class_controller_a91a5751dd6920daf3b70814171b51767}\label{class_controller_a91a5751dd6920daf3b70814171b51767}} 
\index{Controller@{Controller}!Arm\+\_\+\+Operation@{Arm\+\_\+\+Operation}}
\index{Arm\+\_\+\+Operation@{Arm\+\_\+\+Operation}!Controller@{Controller}}
\subsubsection{\texorpdfstring{Arm\+\_\+\+Operation}{Arm\_Operation}}
{\footnotesize\ttfamily enum \hyperlink{class_controller_a91a5751dd6920daf3b70814171b51767}{Controller\+::\+Arm\+\_\+\+Operation}}



Used to define common commands parsed by the arm. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{R\+O\+T\+A\+TE@{R\+O\+T\+A\+TE}!Controller@{Controller}}\index{Controller@{Controller}!R\+O\+T\+A\+TE@{R\+O\+T\+A\+TE}}}\mbox{\Hypertarget{class_controller_a91a5751dd6920daf3b70814171b51767a99ba9596fbe683c122b76174e7d40b8e}\label{class_controller_a91a5751dd6920daf3b70814171b51767a99ba9596fbe683c122b76174e7d40b8e}} 
R\+O\+T\+A\+TE&Run the Wrist Rotation Motor \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{G\+R\+AB@{G\+R\+AB}!Controller@{Controller}}\index{Controller@{Controller}!G\+R\+AB@{G\+R\+AB}}}\mbox{\Hypertarget{class_controller_a91a5751dd6920daf3b70814171b51767a41ed83326fd9ad04a2d24a228bc7a7ef}\label{class_controller_a91a5751dd6920daf3b70814171b51767a41ed83326fd9ad04a2d24a228bc7a7ef}} 
G\+R\+AB&Run the Grab motor \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+X\+T\+E\+ND@{E\+X\+T\+E\+ND}!Controller@{Controller}}\index{Controller@{Controller}!E\+X\+T\+E\+ND@{E\+X\+T\+E\+ND}}}\mbox{\Hypertarget{class_controller_a91a5751dd6920daf3b70814171b51767a1f9769fc0e78abe69b7a4ad5d573eb6c}\label{class_controller_a91a5751dd6920daf3b70814171b51767a1f9769fc0e78abe69b7a4ad5d573eb6c}} 
E\+X\+T\+E\+ND&Run the Arm Extender Motor \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{M\+I\+C\+R\+O\+S\+T\+E\+PS@{M\+I\+C\+R\+O\+S\+T\+E\+PS}!Controller@{Controller}}\index{Controller@{Controller}!M\+I\+C\+R\+O\+S\+T\+E\+PS@{M\+I\+C\+R\+O\+S\+T\+E\+PS}}}\mbox{\Hypertarget{class_controller_a91a5751dd6920daf3b70814171b51767a7d0e6ebddd2cb5dc5fb2100c018cc6d8}\label{class_controller_a91a5751dd6920daf3b70814171b51767a7d0e6ebddd2cb5dc5fb2100c018cc6d8}} 
M\+I\+C\+R\+O\+S\+T\+E\+PS&Change the Microsteps for the driver \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+R\+R\+OR@{E\+R\+R\+OR}!Controller@{Controller}}\index{Controller@{Controller}!E\+R\+R\+OR@{E\+R\+R\+OR}}}\mbox{\Hypertarget{class_controller_a91a5751dd6920daf3b70814171b51767ae276bf8b30c8b606b54d8fb7d92c1ee6}\label{class_controller_a91a5751dd6920daf3b70814171b51767ae276bf8b30c8b606b54d8fb7d92c1ee6}} 
E\+R\+R\+OR&Default Error Placeholder \\
\hline

\end{DoxyEnumFields}


Definition at line 27 of file Controller.\+h.

\mbox{\Hypertarget{class_controller_aa94f1aea40982c422a43c1ee5aea0c49}\label{class_controller_aa94f1aea40982c422a43c1ee5aea0c49}} 
\index{Controller@{Controller}!microsteps@{microsteps}}
\index{microsteps@{microsteps}!Controller@{Controller}}
\subsubsection{\texorpdfstring{microsteps}{microsteps}}
{\footnotesize\ttfamily enum \hyperlink{class_controller_aa94f1aea40982c422a43c1ee5aea0c49}{Controller\+::microsteps}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{H\+A\+LF@{H\+A\+LF}!Controller@{Controller}}\index{Controller@{Controller}!H\+A\+LF@{H\+A\+LF}}}\mbox{\Hypertarget{class_controller_aa94f1aea40982c422a43c1ee5aea0c49a7c6a23455db73e86dcfafcb0025ac5dd}\label{class_controller_aa94f1aea40982c422a43c1ee5aea0c49a7c6a23455db73e86dcfafcb0025ac5dd}} 
H\+A\+LF&1/2 Microstep Ratio \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Q\+U\+A\+R\+T\+ER@{Q\+U\+A\+R\+T\+ER}!Controller@{Controller}}\index{Controller@{Controller}!Q\+U\+A\+R\+T\+ER@{Q\+U\+A\+R\+T\+ER}}}\mbox{\Hypertarget{class_controller_aa94f1aea40982c422a43c1ee5aea0c49aa4e1dc476afca095736e176eb109dc11}\label{class_controller_aa94f1aea40982c422a43c1ee5aea0c49aa4e1dc476afca095736e176eb109dc11}} 
Q\+U\+A\+R\+T\+ER&1/4 Microstep Ratio \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+I\+G\+TH@{E\+I\+G\+TH}!Controller@{Controller}}\index{Controller@{Controller}!E\+I\+G\+TH@{E\+I\+G\+TH}}}\mbox{\Hypertarget{class_controller_aa94f1aea40982c422a43c1ee5aea0c49a99f575098d1be025c224acc42fd921a0}\label{class_controller_aa94f1aea40982c422a43c1ee5aea0c49a99f575098d1be025c224acc42fd921a0}} 
E\+I\+G\+TH&1/8 Microstep Ratio \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{S\+I\+X\+T\+E\+E\+N\+TH@{S\+I\+X\+T\+E\+E\+N\+TH}!Controller@{Controller}}\index{Controller@{Controller}!S\+I\+X\+T\+E\+E\+N\+TH@{S\+I\+X\+T\+E\+E\+N\+TH}}}\mbox{\Hypertarget{class_controller_aa94f1aea40982c422a43c1ee5aea0c49af214e4647ac3115a559b96a464219371}\label{class_controller_aa94f1aea40982c422a43c1ee5aea0c49af214e4647ac3115a559b96a464219371}} 
S\+I\+X\+T\+E\+E\+N\+TH&1/16 Microstep Ratio \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{T\+H\+I\+R\+T\+Y\+\_\+\+S\+E\+C\+O\+ND@{T\+H\+I\+R\+T\+Y\+\_\+\+S\+E\+C\+O\+ND}!Controller@{Controller}}\index{Controller@{Controller}!T\+H\+I\+R\+T\+Y\+\_\+\+S\+E\+C\+O\+ND@{T\+H\+I\+R\+T\+Y\+\_\+\+S\+E\+C\+O\+ND}}}\mbox{\Hypertarget{class_controller_aa94f1aea40982c422a43c1ee5aea0c49aad17f41f310f462eb36ac9f6bac29b57}\label{class_controller_aa94f1aea40982c422a43c1ee5aea0c49aad17f41f310f462eb36ac9f6bac29b57}} 
T\+H\+I\+R\+T\+Y\+\_\+\+S\+E\+C\+O\+ND&1/32 Microstep Ratio \\
\hline

\end{DoxyEnumFields}


Definition at line 38 of file Controller.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_controller_ac1fc6cd2f507cc05e66a602e809c2446}\label{class_controller_ac1fc6cd2f507cc05e66a602e809c2446}} 
\index{Controller@{Controller}!execute\+Cmd@{execute\+Cmd}}
\index{execute\+Cmd@{execute\+Cmd}!Controller@{Controller}}
\subsubsection{\texorpdfstring{execute\+Cmd()}{executeCmd()}}
{\footnotesize\ttfamily Controller\+::execute\+Cmd (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Runs Commands based on data pointed to by current\+Cmd Uses the parsing rules defined by parse\+Serial and then do the respective action. 

\begin{DoxySeeAlso}{See also}
\hyperlink{class_controller_ad7583687bca402756ed9a4a8dc2e29ee}{Controller\+::parse\+Serial} 
\end{DoxySeeAlso}


Definition at line 111 of file Controller.\+cpp.



References get\+Command(), Controller\+::arm\+\_\+command\+::op, and Controller\+::arm\+\_\+command\+::value.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_controller_ac1fc6cd2f507cc05e66a602e809c2446_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_controller_af746c7701fda226720efe02890a308b2}\label{class_controller_af746c7701fda226720efe02890a308b2}} 
\index{Controller@{Controller}!get\+Command@{get\+Command}}
\index{get\+Command@{get\+Command}!Controller@{Controller}}
\subsubsection{\texorpdfstring{get\+Command()}{getCommand()}}
{\footnotesize\ttfamily Controller\+::get\+Command (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Getter method for the current\+Cmd pointer. 

\begin{DoxyReturn}{Returns}
Pointer to the Arm\+\_\+\+Command object of the pointer 
\end{DoxyReturn}


Definition at line 40 of file Controller.\+cpp.



Referenced by execute\+Cmd(), and print\+Exec().

\mbox{\Hypertarget{class_controller_ad7583687bca402756ed9a4a8dc2e29ee}\label{class_controller_ad7583687bca402756ed9a4a8dc2e29ee}} 
\index{Controller@{Controller}!parse\+Serial@{parse\+Serial}}
\index{parse\+Serial@{parse\+Serial}!Controller@{Controller}}
\subsubsection{\texorpdfstring{parse\+Serial()}{parseSerial()}}
{\footnotesize\ttfamily Controller\+::parse\+Serial (\begin{DoxyParamCaption}\item[{String}]{rawinput }\end{DoxyParamCaption})}



Translates Serial or Other Input into an Arm\+\_\+\+Command struct object This function will take the string input, and then parse based on the first character of the string. Parsing goes as follows\+: -\/\+Any commands related to rotation will start with an \textquotesingle{}r\textquotesingle{} or \textquotesingle{}R\textquotesingle{}, then followed by a double indicating revolutions -\/\+Any commands related to gripping will start with a \textquotesingle{}g\textquotesingle{} or \textquotesingle{}G\textquotesingle{}, then followed by a 0 or 1. Other values will trigger an exception -\/\+Any commands related to extending the arm will start with an \textquotesingle{}e\textquotesingle{} or \textquotesingle{}E\textquotesingle{}, then followed by a double indicating motor rotation. We will assert that the value is between -\/1 and 1 for now -\/\+Any unrecognized letter will return the E\+R\+R\+OR enum and 1 as the value. Serial should display an error message, or trigger an exception Once the command is selected, the remaining value is parsed as a double, and then pointed to in the Arm\+\_\+\+Command Pointer. 


\begin{DoxyParams}{Parameters}
{\em rawinput} & The input from Serial or other communication method \\
\hline
\end{DoxyParams}


Definition at line 49 of file Controller.\+cpp.



References Controller\+::arm\+\_\+command\+::op, and Controller\+::arm\+\_\+command\+::value.

\mbox{\Hypertarget{class_controller_a8ad1d152a91997ab3825f32d2dcecfd4}\label{class_controller_a8ad1d152a91997ab3825f32d2dcecfd4}} 
\index{Controller@{Controller}!print\+Exec@{print\+Exec}}
\index{print\+Exec@{print\+Exec}!Controller@{Controller}}
\subsubsection{\texorpdfstring{print\+Exec()}{printExec()}}
{\footnotesize\ttfamily Controller\+::print\+Exec (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Debug Function to test the parser Prints output in the serial connection based on the values in current\+Cmd. 

\begin{DoxySeeAlso}{See also}
\hyperlink{class_controller_ad7583687bca402756ed9a4a8dc2e29ee}{Controller\+::parse\+Serial} 
\end{DoxySeeAlso}


Definition at line 81 of file Controller.\+cpp.



References get\+Command(), and Controller\+::arm\+\_\+command\+::op.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=343pt]{class_controller_a8ad1d152a91997ab3825f32d2dcecfd4_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_controller_a951ce5ec5a6e653e9dd78b36351d80c5}\label{class_controller_a951ce5ec5a6e653e9dd78b36351d80c5}} 
\index{Controller@{Controller}!set\+Command@{set\+Command}}
\index{set\+Command@{set\+Command}!Controller@{Controller}}
\subsubsection{\texorpdfstring{set\+Command()}{setCommand()}}
{\footnotesize\ttfamily Controller\+::set\+Command (\begin{DoxyParamCaption}\item[{\hyperlink{class_controller_ac48cc99091f83f149fef8f17fd5d7e7f}{Controller\+::\+Arm\+\_\+\+Command} $\ast$}]{cmd }\end{DoxyParamCaption})}



Setter method for the current\+Cmd pointer. 


\begin{DoxyParams}{Parameters}
{\em cmd} & The pointer to overwrite the current pointer of current\+Cmd \\
\hline
\end{DoxyParams}


Definition at line 44 of file Controller.\+cpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{_controller_8h}{Controller.\+h}\item 
Controller.\+cpp\end{DoxyCompactItemize}
