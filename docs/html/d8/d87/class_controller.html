<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Armanipulator-Firmware: Controller Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Armanipulator-Firmware
   &#160;<span id="projectnumber">1.0~alpha1</span>
   </div>
   <div id="projectbrief">Firmware to manipulate a Simple Robot Arm</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d8/d87/class_controller.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d7/d34/class_controller-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Controller Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The class-object used to interface between the serial interface and the stepper motor drivers.  
 <a href="../../d8/d87/class_controller.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d2/d94/_controller_8h_source.html">Controller.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd5/struct_controller_1_1arm__command.html">arm_command</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The structure used to define the overall instruction parsed from serial input.  <a href="../../d4/dd5/struct_controller_1_1arm__command.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a91a5751dd6920daf3b70814171b51767"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767">Arm_Operation</a> { <br />
&#160;&#160;<a class="el" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767a99ba9596fbe683c122b76174e7d40b8e">ROTATE</a>, 
<br />
&#160;&#160;<a class="el" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767a41ed83326fd9ad04a2d24a228bc7a7ef">GRAB</a>, 
<br />
&#160;&#160;<a class="el" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767a1f9769fc0e78abe69b7a4ad5d573eb6c">EXTEND</a>, 
<br />
&#160;&#160;<a class="el" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767a7d0e6ebddd2cb5dc5fb2100c018cc6d8">MICROSTEPS</a>, 
<br />
&#160;&#160;<a class="el" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767ae276bf8b30c8b606b54d8fb7d92c1ee6">ERROR</a>
<br />
 }</td></tr>
<tr class="memdesc:a91a5751dd6920daf3b70814171b51767"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to define common commands parsed by the arm.  <a href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767">More...</a><br /></td></tr>
<tr class="separator:a91a5751dd6920daf3b70814171b51767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa94f1aea40982c422a43c1ee5aea0c49"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49">microsteps</a> { <br />
&#160;&#160;<a class="el" href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49a7c6a23455db73e86dcfafcb0025ac5dd">HALF</a>, 
<br />
&#160;&#160;<a class="el" href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49aa4e1dc476afca095736e176eb109dc11">QUARTER</a>, 
<br />
&#160;&#160;<a class="el" href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49a99f575098d1be025c224acc42fd921a0">EIGTH</a>, 
<br />
&#160;&#160;<a class="el" href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49af214e4647ac3115a559b96a464219371">SIXTEENTH</a>, 
<br />
&#160;&#160;<a class="el" href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49aad17f41f310f462eb36ac9f6bac29b57">THIRTY_SECOND</a>
<br />
 }</td></tr>
<tr class="separator:aa94f1aea40982c422a43c1ee5aea0c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab45ad0d63abd4b57021f13810fc856d3"><td class="memItemLeft" align="right" valign="top"><a id="ab45ad0d63abd4b57021f13810fc856d3"></a>
typedef enum <a class="el" href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49">Controller::microsteps</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d87/class_controller.html#ab45ad0d63abd4b57021f13810fc856d3">Microsteps</a></td></tr>
<tr class="memdesc:ab45ad0d63abd4b57021f13810fc856d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to placehold common Microstep configs for the motor drivers. <br /></td></tr>
<tr class="separator:ab45ad0d63abd4b57021f13810fc856d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac48cc99091f83f149fef8f17fd5d7e7f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d4/dd5/struct_controller_1_1arm__command.html">Controller::arm_command</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d87/class_controller.html#ac48cc99091f83f149fef8f17fd5d7e7f">Arm_Command</a></td></tr>
<tr class="memdesc:ac48cc99091f83f149fef8f17fd5d7e7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for the Arm_Command Struct to allow easy definition.  <a href="#ac48cc99091f83f149fef8f17fd5d7e7f">More...</a><br /></td></tr>
<tr class="separator:ac48cc99091f83f149fef8f17fd5d7e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a95c56822d667e94b031451729ce069a9"><td class="memItemLeft" align="right" valign="top"><a id="a95c56822d667e94b031451729ce069a9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d87/class_controller.html#a95c56822d667e94b031451729ce069a9">Controller</a> ()</td></tr>
<tr class="memdesc:a95c56822d667e94b031451729ce069a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the controller object In this constructor, the motors are created on the heap, and then the motor pointer vars now point to the motors on the heap. currentCmd is not initialized, because it does not need to be pointed to at the minute. <br /></td></tr>
<tr class="separator:a95c56822d667e94b031451729ce069a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab87934c4f7a266cfdb86e0f36bc1b5"><td class="memItemLeft" align="right" valign="top"><a id="a0ab87934c4f7a266cfdb86e0f36bc1b5"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d87/class_controller.html#a0ab87934c4f7a266cfdb86e0f36bc1b5">~Controller</a> ()</td></tr>
<tr class="memdesc:a0ab87934c4f7a266cfdb86e0f36bc1b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for the controller object Has no purpose, therefore does nothing. <br /></td></tr>
<tr class="separator:a0ab87934c4f7a266cfdb86e0f36bc1b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7583687bca402756ed9a4a8dc2e29ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d87/class_controller.html#ad7583687bca402756ed9a4a8dc2e29ee">parseSerial</a> (String rawinput)</td></tr>
<tr class="memdesc:ad7583687bca402756ed9a4a8dc2e29ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translates Serial or Other Input into an Arm_Command struct object This function will take the string input, and then parse based on the first character of the string. Parsing goes as follows: -Any commands related to rotation will start with an 'r' or 'R', then followed by a double indicating revolutions -Any commands related to gripping will start with a 'g' or 'G', then followed by a 0 or 1. Other values will trigger an exception -Any commands related to extending the arm will start with an 'e' or 'E', then followed by a double indicating motor rotation. We will assert that the value is between -1 and 1 for now -Any unrecognized letter will return the ERROR enum and 1 as the value. Serial should display an error message, or trigger an exception Once the command is selected, the remaining value is parsed as a double, and then pointed to in the Arm_Command Pointer.  <a href="#ad7583687bca402756ed9a4a8dc2e29ee">More...</a><br /></td></tr>
<tr class="separator:ad7583687bca402756ed9a4a8dc2e29ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ad1d152a91997ab3825f32d2dcecfd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d87/class_controller.html#a8ad1d152a91997ab3825f32d2dcecfd4">printExec</a> ()</td></tr>
<tr class="memdesc:a8ad1d152a91997ab3825f32d2dcecfd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug Function to test the parser Prints output in the serial connection based on the values in currentCmd.  <a href="#a8ad1d152a91997ab3825f32d2dcecfd4">More...</a><br /></td></tr>
<tr class="separator:a8ad1d152a91997ab3825f32d2dcecfd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1fc6cd2f507cc05e66a602e809c2446"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d87/class_controller.html#ac1fc6cd2f507cc05e66a602e809c2446">executeCmd</a> ()</td></tr>
<tr class="memdesc:ac1fc6cd2f507cc05e66a602e809c2446"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs Commands based on data pointed to by currentCmd Uses the parsing rules defined by parseSerial and then do the respective action.  <a href="#ac1fc6cd2f507cc05e66a602e809c2446">More...</a><br /></td></tr>
<tr class="separator:ac1fc6cd2f507cc05e66a602e809c2446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af746c7701fda226720efe02890a308b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d87/class_controller.html#ac48cc99091f83f149fef8f17fd5d7e7f">Arm_Command</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">getCommand</a> ()</td></tr>
<tr class="memdesc:af746c7701fda226720efe02890a308b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter method for the currentCmd pointer.  <a href="#af746c7701fda226720efe02890a308b2">More...</a><br /></td></tr>
<tr class="separator:af746c7701fda226720efe02890a308b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951ce5ec5a6e653e9dd78b36351d80c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d87/class_controller.html#a951ce5ec5a6e653e9dd78b36351d80c5">setCommand</a> (<a class="el" href="../../d8/d87/class_controller.html#ac48cc99091f83f149fef8f17fd5d7e7f">Arm_Command</a> *cmd)</td></tr>
<tr class="memdesc:a951ce5ec5a6e653e9dd78b36351d80c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter method for the currentCmd pointer.  <a href="#a951ce5ec5a6e653e9dd78b36351d80c5">More...</a><br /></td></tr>
<tr class="separator:a951ce5ec5a6e653e9dd78b36351d80c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The class-object used to interface between the serial interface and the stepper motor drivers. </p>

<p class="definition">Definition at line <a class="el" href="../../d2/d94/_controller_8h_source.html#l00020">20</a> of file <a class="el" href="../../d2/d94/_controller_8h_source.html">Controller.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="ac48cc99091f83f149fef8f17fd5d7e7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac48cc99091f83f149fef8f17fd5d7e7f">&#9670;&nbsp;</a></span>Arm_Command</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d87/class_controller.html#ac48cc99091f83f149fef8f17fd5d7e7f">Controller::Arm_Command</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type for the Arm_Command Struct to allow easy definition. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d4/dd5/struct_controller_1_1arm__command.html" title="The structure used to define the overall instruction parsed from serial input.">Controller::arm_command</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a91a5751dd6920daf3b70814171b51767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91a5751dd6920daf3b70814171b51767">&#9670;&nbsp;</a></span>Arm_Operation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767">Controller::Arm_Operation</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to define common commands parsed by the arm. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a91a5751dd6920daf3b70814171b51767a99ba9596fbe683c122b76174e7d40b8e"></a>ROTATE&#160;</td><td class="fielddoc"><p>Run the Wrist Rotation Motor </p>
</td></tr>
<tr><td class="fieldname"><a id="a91a5751dd6920daf3b70814171b51767a41ed83326fd9ad04a2d24a228bc7a7ef"></a>GRAB&#160;</td><td class="fielddoc"><p>Run the Grab motor </p>
</td></tr>
<tr><td class="fieldname"><a id="a91a5751dd6920daf3b70814171b51767a1f9769fc0e78abe69b7a4ad5d573eb6c"></a>EXTEND&#160;</td><td class="fielddoc"><p>Run the Arm Extender Motor </p>
</td></tr>
<tr><td class="fieldname"><a id="a91a5751dd6920daf3b70814171b51767a7d0e6ebddd2cb5dc5fb2100c018cc6d8"></a>MICROSTEPS&#160;</td><td class="fielddoc"><p>Change the Microsteps for the driver </p>
</td></tr>
<tr><td class="fieldname"><a id="a91a5751dd6920daf3b70814171b51767ae276bf8b30c8b606b54d8fb7d92c1ee6"></a>ERROR&#160;</td><td class="fielddoc"><p>Default Error Placeholder </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d2/d94/_controller_8h_source.html#l00028">28</a> of file <a class="el" href="../../d2/d94/_controller_8h_source.html">Controller.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;                 {</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <a class="code" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767a99ba9596fbe683c122b76174e7d40b8e">ROTATE</a>, </div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        <a class="code" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767a41ed83326fd9ad04a2d24a228bc7a7ef">GRAB</a>, </div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <a class="code" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767a1f9769fc0e78abe69b7a4ad5d573eb6c">EXTEND</a>, </div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <a class="code" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767a7d0e6ebddd2cb5dc5fb2100c018cc6d8">MICROSTEPS</a>, </div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <a class="code" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767ae276bf8b30c8b606b54d8fb7d92c1ee6">ERROR</a> </div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    } <a class="code" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767">Arm_Operation</a>;</div><div class="ttc" id="class_controller_html_a91a5751dd6920daf3b70814171b51767ae276bf8b30c8b606b54d8fb7d92c1ee6"><div class="ttname"><a href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767ae276bf8b30c8b606b54d8fb7d92c1ee6">Controller::ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00033">Controller.h:33</a></div></div>
<div class="ttc" id="class_controller_html_a91a5751dd6920daf3b70814171b51767a7d0e6ebddd2cb5dc5fb2100c018cc6d8"><div class="ttname"><a href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767a7d0e6ebddd2cb5dc5fb2100c018cc6d8">Controller::MICROSTEPS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00032">Controller.h:32</a></div></div>
<div class="ttc" id="class_controller_html_a91a5751dd6920daf3b70814171b51767a1f9769fc0e78abe69b7a4ad5d573eb6c"><div class="ttname"><a href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767a1f9769fc0e78abe69b7a4ad5d573eb6c">Controller::EXTEND</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00031">Controller.h:31</a></div></div>
<div class="ttc" id="class_controller_html_a91a5751dd6920daf3b70814171b51767a41ed83326fd9ad04a2d24a228bc7a7ef"><div class="ttname"><a href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767a41ed83326fd9ad04a2d24a228bc7a7ef">Controller::GRAB</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00030">Controller.h:30</a></div></div>
<div class="ttc" id="class_controller_html_a91a5751dd6920daf3b70814171b51767"><div class="ttname"><a href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767">Controller::Arm_Operation</a></div><div class="ttdeci">Arm_Operation</div><div class="ttdoc">Used to define common commands parsed by the arm.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00028">Controller.h:28</a></div></div>
<div class="ttc" id="class_controller_html_a91a5751dd6920daf3b70814171b51767a99ba9596fbe683c122b76174e7d40b8e"><div class="ttname"><a href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767a99ba9596fbe683c122b76174e7d40b8e">Controller::ROTATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00029">Controller.h:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa94f1aea40982c422a43c1ee5aea0c49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa94f1aea40982c422a43c1ee5aea0c49">&#9670;&nbsp;</a></span>microsteps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49">Controller::microsteps</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa94f1aea40982c422a43c1ee5aea0c49a7c6a23455db73e86dcfafcb0025ac5dd"></a>HALF&#160;</td><td class="fielddoc"><p>HALF. </p>
<p>1/2 Microstep Ratio </p>
</td></tr>
<tr><td class="fieldname"><a id="aa94f1aea40982c422a43c1ee5aea0c49aa4e1dc476afca095736e176eb109dc11"></a>QUARTER&#160;</td><td class="fielddoc"><p>QUARTER. </p>
<p>1/4 Microstep Ratio </p>
</td></tr>
<tr><td class="fieldname"><a id="aa94f1aea40982c422a43c1ee5aea0c49a99f575098d1be025c224acc42fd921a0"></a>EIGTH&#160;</td><td class="fielddoc"><p>EIGTH. </p>
<p>1/8 Microstep Ratio </p>
</td></tr>
<tr><td class="fieldname"><a id="aa94f1aea40982c422a43c1ee5aea0c49af214e4647ac3115a559b96a464219371"></a>SIXTEENTH&#160;</td><td class="fielddoc"><p>SIXTEENTH. </p>
<p>1/16 Microstep Ratio </p>
</td></tr>
<tr><td class="fieldname"><a id="aa94f1aea40982c422a43c1ee5aea0c49aad17f41f310f462eb36ac9f6bac29b57"></a>THIRTY_SECOND&#160;</td><td class="fielddoc"><p>THIRTY_SECOND. </p>
<p>1/32 Microstep Ratio </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d2/d94/_controller_8h_source.html#l00042">42</a> of file <a class="el" href="../../d2/d94/_controller_8h_source.html">Controller.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                            {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <a class="code" href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49a7c6a23455db73e86dcfafcb0025ac5dd">HALF</a>,          </div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <a class="code" href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49aa4e1dc476afca095736e176eb109dc11">QUARTER</a>,       </div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <a class="code" href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49a99f575098d1be025c224acc42fd921a0">EIGTH</a>,         </div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <a class="code" href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49af214e4647ac3115a559b96a464219371">SIXTEENTH</a>,    </div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49aad17f41f310f462eb36ac9f6bac29b57">THIRTY_SECOND</a> </div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    } <a class="code" href="../../d8/d87/class_controller.html#ab45ad0d63abd4b57021f13810fc856d3">Microsteps</a>;</div><div class="ttc" id="class_controller_html_aa94f1aea40982c422a43c1ee5aea0c49a99f575098d1be025c224acc42fd921a0"><div class="ttname"><a href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49a99f575098d1be025c224acc42fd921a0">Controller::EIGTH</a></div><div class="ttdoc">EIGTH.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00045">Controller.h:45</a></div></div>
<div class="ttc" id="class_controller_html_aa94f1aea40982c422a43c1ee5aea0c49a7c6a23455db73e86dcfafcb0025ac5dd"><div class="ttname"><a href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49a7c6a23455db73e86dcfafcb0025ac5dd">Controller::HALF</a></div><div class="ttdoc">HALF.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00043">Controller.h:43</a></div></div>
<div class="ttc" id="class_controller_html_ab45ad0d63abd4b57021f13810fc856d3"><div class="ttname"><a href="../../d8/d87/class_controller.html#ab45ad0d63abd4b57021f13810fc856d3">Controller::Microsteps</a></div><div class="ttdeci">enum Controller::microsteps Microsteps</div><div class="ttdoc">Used to placehold common Microstep configs for the motor drivers.</div></div>
<div class="ttc" id="class_controller_html_aa94f1aea40982c422a43c1ee5aea0c49aa4e1dc476afca095736e176eb109dc11"><div class="ttname"><a href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49aa4e1dc476afca095736e176eb109dc11">Controller::QUARTER</a></div><div class="ttdoc">QUARTER.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00044">Controller.h:44</a></div></div>
<div class="ttc" id="class_controller_html_aa94f1aea40982c422a43c1ee5aea0c49af214e4647ac3115a559b96a464219371"><div class="ttname"><a href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49af214e4647ac3115a559b96a464219371">Controller::SIXTEENTH</a></div><div class="ttdoc">SIXTEENTH.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00046">Controller.h:46</a></div></div>
<div class="ttc" id="class_controller_html_aa94f1aea40982c422a43c1ee5aea0c49aad17f41f310f462eb36ac9f6bac29b57"><div class="ttname"><a href="../../d8/d87/class_controller.html#aa94f1aea40982c422a43c1ee5aea0c49aad17f41f310f462eb36ac9f6bac29b57">Controller::THIRTY_SECOND</a></div><div class="ttdoc">THIRTY_SECOND.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00047">Controller.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac1fc6cd2f507cc05e66a602e809c2446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1fc6cd2f507cc05e66a602e809c2446">&#9670;&nbsp;</a></span>executeCmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Controller::executeCmd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs Commands based on data pointed to by currentCmd Uses the parsing rules defined by parseSerial and then do the respective action. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d8/d87/class_controller.html#ad7583687bca402756ed9a4a8dc2e29ee" title="Translates Serial or Other Input into an Arm_Command struct object This function will take the string...">Controller::parseSerial</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/dec/_controller_8cpp_source.html#l00105">105</a> of file <a class="el" href="../../d3/dec/_controller_8cpp_source.html">Controller.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                            {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767">Controller::Arm_Operation</a> cmdop = this-&gt;<a class="code" href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">getCommand</a>()-&gt;<a class="code" href="../../d4/dd5/struct_controller_1_1arm__command.html#ac31649d9bb8a03e80a86a59bdfa0be75">op</a>;                                       <span class="comment">//Extract the Arm_Operation enum stored in this controller object</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">//TODO: Check efficiency of using a switch statement instead of an if/else chain</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">//See Jump Tables and low-level intricacies produced by AVR</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">switch</span> (cmdop) {                                                                                <span class="comment">//What is the command</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">case</span> Controller::Arm_Operation::ROTATE:                                                         <span class="comment">//Rotate the wrist</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">getCommand</a>()-&gt;value &gt; 1 || this-&gt;<a class="code" href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">getCommand</a>()-&gt;value &lt; -1) {                      <span class="comment">//Check the bounds of the value</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            Serial.println(<span class="stringliteral">&quot;Error: Value for Wrist Rotation commands should be between -1 and 1&quot;</span>);  <span class="comment">//Print an error message and give explanation</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">return</span>;                                                                                 <span class="comment">//Exits to the main loop if bounds are not met</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        }</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        rotateDriver-&gt;move( (<span class="keywordtype">double</span>)(currentCmd-&gt;<a class="code" href="../../d4/dd5/struct_controller_1_1arm__command.html#a2e40c7e8947f625f1d39ac9568a1976a">value</a>) * 200);                                             <span class="comment">//Otherwise, perform the movement</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">case</span> Controller::Arm_Operation::GRAB:                                                           <span class="comment">//Do the grabby hand</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">getCommand</a>()-&gt;value != 1 || this-&gt;<a class="code" href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">getCommand</a>()-&gt;value != -1) {                    <span class="comment">//Bounds checking, but stricter (Decimal values indicate a partial oepning of the hand, which us not the best practice</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            Serial.println(<span class="stringliteral">&quot;Error: Value for Grab commands should be either -1 or 1&quot;</span>);              <span class="comment">//Print an error message and give explanation</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">return</span>;                                                                                 <span class="comment">//Exits to the main loop if bounds are not met</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        grabDriver-&gt;move((<span class="keywordtype">double</span>)(currentCmd-&gt;<a class="code" href="../../d4/dd5/struct_controller_1_1arm__command.html#a2e40c7e8947f625f1d39ac9568a1976a">value</a>) * 60);                                                 <span class="comment">//Do the grab (set value, motion depends on sign))</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">case</span> Controller::Arm_Operation::EXTEND:                                                         <span class="comment">//Extend the arm!</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">if</span> (this-&gt;<a class="code" href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">getCommand</a>()-&gt;value &gt; 1 || this-&gt;<a class="code" href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">getCommand</a>()-&gt;value &lt; -1) {                      <span class="comment">//Bounds checking, but not strict (arm should extend to variable lengths</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            Serial.println(<span class="stringliteral">&quot;Error: Value for Arm Extension commands should be between -1 and 1&quot;</span>);   <span class="comment">//Print an error message and give explanation</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keywordflow">return</span>;                                                                                 <span class="comment">//Exits to the main loop if bounds are not met</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        extendDriver-&gt;move((<span class="keywordtype">double</span>) (currentCmd-&gt;<a class="code" href="../../d4/dd5/struct_controller_1_1arm__command.html#a2e40c7e8947f625f1d39ac9568a1976a">value</a>) *200);                                                      <span class="comment">//Extend the arm</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">case</span> Controller::Arm_Operation::MICROSTEPS:</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="comment">//Empty for now</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">case</span> Controller::Arm_Operation::ERROR:                                                          <span class="comment">//He&#39;s Dead, Jim!</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        Serial.println(<span class="stringliteral">&quot;Error, Unrecognized Command&quot;</span>);                                              <span class="comment">//Print out an error message</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div><div class="ttc" id="struct_controller_1_1arm__command_html_ac31649d9bb8a03e80a86a59bdfa0be75"><div class="ttname"><a href="../../d4/dd5/struct_controller_1_1arm__command.html#ac31649d9bb8a03e80a86a59bdfa0be75">Controller::arm_command::op</a></div><div class="ttdeci">Controller::Arm_Operation op</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00059">Controller.h:59</a></div></div>
<div class="ttc" id="struct_controller_1_1arm__command_html_a2e40c7e8947f625f1d39ac9568a1976a"><div class="ttname"><a href="../../d4/dd5/struct_controller_1_1arm__command.html#a2e40c7e8947f625f1d39ac9568a1976a">Controller::arm_command::value</a></div><div class="ttdeci">double value</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00060">Controller.h:60</a></div></div>
<div class="ttc" id="class_controller_html_af746c7701fda226720efe02890a308b2"><div class="ttname"><a href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">Controller::getCommand</a></div><div class="ttdeci">Arm_Command * getCommand()</div><div class="ttdoc">Getter method for the currentCmd pointer.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dec/_controller_8cpp_source.html#l00039">Controller.cpp:39</a></div></div>
<div class="ttc" id="class_controller_html_a91a5751dd6920daf3b70814171b51767"><div class="ttname"><a href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767">Controller::Arm_Operation</a></div><div class="ttdeci">Arm_Operation</div><div class="ttdoc">Used to define common commands parsed by the arm.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00028">Controller.h:28</a></div></div>
</div><!-- fragment --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d8/d87/class_controller_ac1fc6cd2f507cc05e66a602e809c2446_cgraph.png" border="0" usemap="#d8/d87/class_controller_ac1fc6cd2f507cc05e66a602e809c2446_cgraph" alt=""/></div>
<map name="d8/d87/class_controller_ac1fc6cd2f507cc05e66a602e809c2446_cgraph" id="d8/d87/class_controller_ac1fc6cd2f507cc05e66a602e809c2446_cgraph">
<area shape="rect"  title="Runs Commands based on data pointed to by currentCmd Uses the parsing rules defined by parseSerial an..." alt="" coords="5,5,164,32"/>
<area shape="rect"  href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2" title="Getter method for the currentCmd pointer." alt="" coords="212,5,375,32"/>
</map>
</div>

</div>
</div>
<a id="af746c7701fda226720efe02890a308b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af746c7701fda226720efe02890a308b2">&#9670;&nbsp;</a></span>getCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Controller::getCommand </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter method for the currentCmd pointer. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the Arm_Command object of the pointer </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/dec/_controller_8cpp_source.html#l00039">39</a> of file <a class="el" href="../../d3/dec/_controller_8cpp_source.html">Controller.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                                              {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">return</span> currentCmd;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="ad7583687bca402756ed9a4a8dc2e29ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7583687bca402756ed9a4a8dc2e29ee">&#9670;&nbsp;</a></span>parseSerial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Controller::parseSerial </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>rawinput</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Translates Serial or Other Input into an Arm_Command struct object This function will take the string input, and then parse based on the first character of the string. Parsing goes as follows: -Any commands related to rotation will start with an 'r' or 'R', then followed by a double indicating revolutions -Any commands related to gripping will start with a 'g' or 'G', then followed by a 0 or 1. Other values will trigger an exception -Any commands related to extending the arm will start with an 'e' or 'E', then followed by a double indicating motor rotation. We will assert that the value is between -1 and 1 for now -Any unrecognized letter will return the ERROR enum and 1 as the value. Serial should display an error message, or trigger an exception Once the command is selected, the remaining value is parsed as a double, and then pointed to in the Arm_Command Pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rawinput</td><td>The input from Serial or other communication method </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/dec/_controller_8cpp_source.html#l00047">47</a> of file <a class="el" href="../../d3/dec/_controller_8cpp_source.html">Controller.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                            {</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="../../d8/d87/class_controller.html#ac48cc99091f83f149fef8f17fd5d7e7f">Arm_Command</a>* out = <span class="keyword">new</span> <a class="code" href="../../d8/d87/class_controller.html#ac48cc99091f83f149fef8f17fd5d7e7f">Arm_Command</a>();</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="comment">//This is what we expect in terms of input</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="comment">//Any commands related to rotation will start with an &#39;r&#39; or &#39;R&#39;, then followed by a double indicating revolutions</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment">//Any commands related to gripping will start with a &#39;g&#39; or &#39;G&#39;, then followed by a 0 or 1. Other values will trigger an exception</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">//Any commands related to extending the arm will start with an &#39;e&#39; or &#39;E&#39;, then followed by a double indicating motor rotation. We will assert that the value is between -1 and 1 for now</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">//Any unrecognized letter will return the ERROR enum and 1 as the value. Serial should display an error message, or trigger an exception</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">if</span> (rawinput.charAt(0) == <span class="charliteral">&#39;r&#39;</span> || rawinput.charAt(0) == <span class="charliteral">&#39;R&#39;</span>) {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        out-&gt;op = Controller::Arm_Operation::ROTATE;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        out-&gt;value = atof(rawinput.substring(1, rawinput.length()).c_str());                        <span class="comment">//Extract Value from command string</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rawinput.charAt(0) == <span class="charliteral">&#39;g&#39;</span> || rawinput.charAt(0) == <span class="charliteral">&#39;G&#39;</span>) {</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        out-&gt;op = Controller::Arm_Operation::GRAB;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        out-&gt;value = atof(rawinput.substring(1, rawinput.length()).c_str());                        <span class="comment">//Extract Value from command string</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rawinput.charAt(0) == <span class="charliteral">&#39;e&#39;</span> || rawinput.charAt(0) == <span class="charliteral">&#39;E&#39;</span>) {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        out-&gt;op = Controller::Arm_Operation::EXTEND;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        out-&gt;value = atof(rawinput.substring(1, rawinput.length()).c_str());                        <span class="comment">//Extract Value from command string</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rawinput.charAt(0) == <span class="charliteral">&#39;m&#39;</span> || rawinput.charAt(0) == <span class="charliteral">&#39;M&#39;</span>) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        out-&gt;op = Controller::Arm_Operation::MICROSTEPS;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="comment">//Special Extract Value related to enum</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        out-&gt;op = Controller::Arm_Operation::ERROR;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        out-&gt;value = 1;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    currentCmd = out;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div><div class="ttc" id="class_controller_html_ac48cc99091f83f149fef8f17fd5d7e7f"><div class="ttname"><a href="../../d8/d87/class_controller.html#ac48cc99091f83f149fef8f17fd5d7e7f">Controller::Arm_Command</a></div><div class="ttdeci">struct Controller::arm_command Arm_Command</div><div class="ttdoc">Type for the Arm_Command Struct to allow easy definition.</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ad1d152a91997ab3825f32d2dcecfd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ad1d152a91997ab3825f32d2dcecfd4">&#9670;&nbsp;</a></span>printExec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Controller::printExec </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Debug Function to test the parser Prints output in the serial connection based on the values in currentCmd. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d8/d87/class_controller.html#ad7583687bca402756ed9a4a8dc2e29ee" title="Translates Serial or Other Input into an Arm_Command struct object This function will take the string...">Controller::parseSerial</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d3/dec/_controller_8cpp_source.html#l00075">75</a> of file <a class="el" href="../../d3/dec/_controller_8cpp_source.html">Controller.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                           {</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767">Controller::Arm_Operation</a> plsdo = this-&gt;<a class="code" href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">getCommand</a>()-&gt;<a class="code" href="../../d4/dd5/struct_controller_1_1arm__command.html#ac31649d9bb8a03e80a86a59bdfa0be75">op</a>;                                       <span class="comment">//Get the Arm_Operation enum from the</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">switch</span> (plsdo) {                                                                                <span class="comment">//Figure out which command was extracted</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">case</span> Controller::Arm_Operation::ROTATE:                                                         <span class="comment">//The command is to rotate the wrist</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        Serial.println(<span class="stringliteral">&quot;Command: Rotate&quot;</span>);                                                          <span class="comment">//Print out the command name</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        Serial.println(<span class="stringliteral">&quot;Value: &quot;</span> + String(this-&gt;<a class="code" href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">getCommand</a>()-&gt;value));                              <span class="comment">//Print out the command value</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        Serial.println(<span class="stringliteral">&quot;&quot;</span>);                                                                         <span class="comment">//Newline to seperate output</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">case</span> Controller::Arm_Operation::GRAB:                                                           <span class="comment">//The command is to do the grabby hand</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        Serial.println(<span class="stringliteral">&quot;Command: Grab&quot;</span>);                                                            <span class="comment">//Print out the command name</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        Serial.println(<span class="stringliteral">&quot;Value: &quot;</span> + String(this-&gt;<a class="code" href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">getCommand</a>()-&gt;value));                              <span class="comment">//Print out the command value</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        Serial.println(<span class="stringliteral">&quot;&quot;</span>);                                                                         <span class="comment">//Newline to seperate output</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">case</span> Controller::Arm_Operation::EXTEND:                                                         <span class="comment">//The Command is to extend the arm</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        Serial.println(<span class="stringliteral">&quot;Command: Extend&quot;</span>);                                                          <span class="comment">//Print out the command name</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        Serial.println(<span class="stringliteral">&quot;Value: &quot;</span> + String(this-&gt;<a class="code" href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">getCommand</a>()-&gt;value));                              <span class="comment">//Print out the command value</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        Serial.println(<span class="stringliteral">&quot;&quot;</span>);                                                                         <span class="comment">//Newline to seperate output</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">case</span> Controller::Arm_Operation::MICROSTEPS:</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="comment">//Microsteps should be parsed diffenrently</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">case</span> Controller::Arm_Operation::ERROR:                                                          <span class="comment">//The command is an error</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        Serial.println(<span class="stringliteral">&quot;Command: Error&quot;</span>);                                                           <span class="comment">//Print out the command name</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        Serial.println(<span class="stringliteral">&quot;Value: &quot;</span> + String(this-&gt;<a class="code" href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">getCommand</a>()-&gt;value));                              <span class="comment">//Print out the command value</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        Serial.println(<span class="stringliteral">&quot;&quot;</span>);                                                                         <span class="comment">//Newline to seperate output</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div><div class="ttc" id="struct_controller_1_1arm__command_html_ac31649d9bb8a03e80a86a59bdfa0be75"><div class="ttname"><a href="../../d4/dd5/struct_controller_1_1arm__command.html#ac31649d9bb8a03e80a86a59bdfa0be75">Controller::arm_command::op</a></div><div class="ttdeci">Controller::Arm_Operation op</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00059">Controller.h:59</a></div></div>
<div class="ttc" id="class_controller_html_af746c7701fda226720efe02890a308b2"><div class="ttname"><a href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2">Controller::getCommand</a></div><div class="ttdeci">Arm_Command * getCommand()</div><div class="ttdoc">Getter method for the currentCmd pointer.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dec/_controller_8cpp_source.html#l00039">Controller.cpp:39</a></div></div>
<div class="ttc" id="class_controller_html_a91a5751dd6920daf3b70814171b51767"><div class="ttname"><a href="../../d8/d87/class_controller.html#a91a5751dd6920daf3b70814171b51767">Controller::Arm_Operation</a></div><div class="ttdeci">Arm_Operation</div><div class="ttdoc">Used to define common commands parsed by the arm.</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d94/_controller_8h_source.html#l00028">Controller.h:28</a></div></div>
</div><!-- fragment --><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d8/d87/class_controller_a8ad1d152a91997ab3825f32d2dcecfd4_cgraph.png" border="0" usemap="#d8/d87/class_controller_a8ad1d152a91997ab3825f32d2dcecfd4_cgraph" alt=""/></div>
<map name="d8/d87/class_controller_a8ad1d152a91997ab3825f32d2dcecfd4_cgraph" id="d8/d87/class_controller_a8ad1d152a91997ab3825f32d2dcecfd4_cgraph">
<area shape="rect"  title="Debug Function to test the parser Prints output in the serial connection based on the values in curre..." alt="" coords="5,5,145,32"/>
<area shape="rect"  href="../../d8/d87/class_controller.html#af746c7701fda226720efe02890a308b2" title="Getter method for the currentCmd pointer." alt="" coords="193,5,356,32"/>
</map>
</div>

</div>
</div>
<a id="a951ce5ec5a6e653e9dd78b36351d80c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a951ce5ec5a6e653e9dd78b36351d80c5">&#9670;&nbsp;</a></span>setCommand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Controller::setCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d87/class_controller.html#ac48cc99091f83f149fef8f17fd5d7e7f">Controller::Arm_Command</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter method for the currentCmd pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>The pointer to overwrite the current pointer of currentCmd </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/dec/_controller_8cpp_source.html#l00043">43</a> of file <a class="el" href="../../d3/dec/_controller_8cpp_source.html">Controller.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                                      {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    currentCmd = cmd;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Armanipulator_Firmware/<a class="el" href="../../d2/d94/_controller_8h_source.html">Controller.h</a></li>
<li>Armanipulator_Firmware/<a class="el" href="../../d3/dec/_controller_8cpp_source.html">Controller.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d8/d87/class_controller.html">Controller</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
